{"version":3,"sources":["components/Filter.js","services/notes.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","onChange","url","getAll","axios","get","then","response","data","update","id","newObject","put","remove","delete","add","post","PersonForm","newName","setNewName","setNewNumber","newNumber","persons","setPersons","setNotif","onSubmit","event","preventDefault","index","findIndex","person","name","window","confirm","noteService","number","map","error","message","catch","toAdd","concat","setTimeout","target","type","Persons","newFilter","toFilter","doesMatch","toUpperCase","includes","filter","onClick","onClickHandler","Notification","notif","notifStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setNewFilter","useEffect","length","props","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3af1c2d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) =>\r\n        <form>\r\n            <div>filter shown with: <input value={value} onChange={onChange} /></div>\r\n        </form>\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\nconst url = '/api/persons'\r\n\r\nconst getAll = () =>\r\n    axios\r\n        .get(url)\r\n        .then(response => response.data)\r\n\r\nconst update = (id, newObject) =>\r\n    axios\r\n        .put(`${url}/${id}`, newObject)\r\n        .then(response => response.data)\r\n\r\nconst remove = (id) =>\r\n    axios\r\n        .delete(`${url}/${id}`)\r\nconst add =(newObject) =>\r\n    axios\r\n        .post(url, newObject)\r\n        .then(response => response.data)\r\n\r\nexport default {getAll, update, remove, add}\r\n","import React from 'react'\r\nimport noteService from '../services/notes'\r\n\r\nconst PersonForm = ({newName, setNewName, setNewNumber, newNumber, persons, setPersons, setNotif}) => {\r\n\r\n    const nameChangeHandler = (event) =>\r\n        setNewName(event.target.value)\r\n\r\n    const numberChangeHandler = (event) =>\r\n        setNewNumber(event.target.value)\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const index = persons.findIndex(person => person.name === newName)\r\n\r\n        if (index !== -1) {\r\n            if (window.confirm(`${newName} is already added to Phonebook, replace the old number with a new one?`)) {\r\n                noteService\r\n                    .update(\r\n                        persons[index].id,\r\n                        {...persons[index], number: newNumber}\r\n                    )\r\n                    .then(\r\n                        response =>\r\n                            setPersons(\r\n                                    persons.map(\r\n                                        person => person.id !== persons[index].id\r\n                                            ? person\r\n                                            : response\r\n                                    )\r\n                            )\r\n                    )\r\n                    .then(() =>\r\n                        setNotif({error: false, message: `Successfully update ${persons[index].name}`})\r\n                    )\r\n                    .catch(error =>\r\n                        setNotif({error: true, message:error.response.data.error})\r\n                    )\r\n            }\r\n        }\r\n\r\n        else {\r\n            const toAdd = {\r\n                name: newName,\r\n                number: newNumber,\r\n            }\r\n\r\n            noteService\r\n                .add(toAdd)\r\n                .then(response => setPersons(persons.concat(response)))\r\n                .then(() =>\r\n                    setNotif({error: false, message: `Successfully added ${toAdd.name}`})\r\n                )\r\n                .catch(error =>\r\n                    setNotif({error: true, message: error.response.data.error}))\r\n        }\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setTimeout(() => setNotif(null), 1000)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>name: <input value={newName} onChange={nameChangeHandler} /></div>\r\n            <div>number: <input value={newNumber} onChange={numberChangeHandler} /></div>\r\n            <div>\r\n                <button type='submit'>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({remove, persons, setPersons, newFilter}) => {\r\n    const filter = (value, toFilter) => {\r\n        const doesMatch = toFilter\r\n            .map(\r\n                person => person.name.toUpperCase()\r\n            )\r\n            .map(\r\n            name => name.includes(value.toUpperCase())\r\n            )\r\n        return (\r\n            toFilter\r\n                .filter(\r\n                    ({}, index) => doesMatch[index]\r\n        ))\r\n    }\r\n\r\n    const onClickHandler = (person)=> {\r\n        if (window.confirm(`are u sure u want to delete ${person.name}`))\r\n            remove(person.id)\r\n            setPersons([])\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {filter(newFilter, persons).map(\r\n                person =>\r\n                <div key={person.name}>\r\n                    {person.name} {person.number}\r\n                    <button onClick={() => onClickHandler(person)}>\r\n                        delete\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({notif}) => {\r\n    if (notif === null)\r\n        return null\r\n\r\n    const notifStyle = {\r\n        color: notif.error === true ? 'red' : 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 5,\r\n    }\r\n\r\n    return (\r\n        <div style={notifStyle}>\r\n            {notif.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport noteService from './services/notes'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [newFilter, setNewFilter] = useState('')\r\n    const [notif, setNotif] = useState(null)\r\n\r\n    const filterChangeHandler = (event) =>\r\n        setNewFilter(event.target.value)\r\n\r\n    useEffect(() =>\r\n            noteService.getAll()\r\n            .then(data =>\r\n                setPersons(data)\r\n            )\r\n        , [persons.length])\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification notif={notif} />\r\n            <Filter value={newFilter} onChange={filterChangeHandler} />\r\n            <h3>add a new</h3>\r\n            <PersonForm\r\n                newName={newName}\r\n                setNewName={(props) => setNewName(props)}\r\n                setNewNumber={(props) => setNewNumber(props)}\r\n                newNumber={newNumber}\r\n                persons={persons}\r\n                setPersons={(props) => setPersons(props)}\r\n                setNotif={(props) => setNotif(props)}\r\n            />\r\n            <h3>Numbers</h3>\r\n            <Persons\r\n                remove={noteService.remove}\r\n                persons={persons}\r\n                setPersons={(props) => setPersons(props)}\r\n                newFilter={newFilter}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}